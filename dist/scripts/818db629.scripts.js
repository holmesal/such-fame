(function(){"use strict";angular.module("portfolioApp",["ngCookies","ngResource","ngSanitize","ngRoute","famous.angular"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}])}).call(this),function(){"use strict";angular.module("portfolioApp").controller("MainCtrl",["$scope","$famous","$timeout","$window",function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W;return j=b["famous/core/EventHandler"],i=b["famous/core/Engine"],m=b["famous/physics/PhysicsEngine"],e=b["famous/physics/bodies/Circle"],l=b["famous/physics/bodies/Particle"],r=b["famous/transitions/Transitionable"],t=b["famous/physics/constraints/Wall"],u=b["famous/physics/constraints/Walls"],f=b["famous/physics/constraints/Collision"],n=b["famous/physics/forces/Repulsion"],q=b["famous/physics/forces/Spring"],k=b["famous/physics/forces/Force"],h=b["famous/physics/constraints/Distance"],s=b["famous/math/Vector"],o=b["famous/views/Scrollview"],p=b["famous/transitions/SnapTransition"],r.registerMethod("snap",p),a.projects=[{name:"Hashtag",icon:"images/icons/hashtag.svg",description:"Awesome group chat for all of the thingsss",template:"views/projects/hashtag.html",size:[26,!0]},{name:"Hero",icon:"images/icons/hero.svg",description:"Humanitarian emergency response UAV",template:"views/projects/hero.html",size:[30,!0]},{name:"Shortwave",icon:"images/icons/shortwave.svg",description:"A chat room with a 100-foot range",template:"views/projects/shortwave.html",size:[30,!0]},{name:"hey i'm alonso",icon:"images/icons/alonso.svg",description:"",template:"views/projects/alonso.html",size:[36,!0]}],M=a.projects.length,y={big:70,small:5},a.circleSize=y.big,a.dims={w:d.innerWidth,h:d.innerHeight},T=.2*a.dims.h,U=.5,H=.5,g=200,E=!0,A=["#b58900","#cb4b16","#dc322f","#d33682","#6c71c4","#268bd2","#2aa198","#859900"],A=["#575757"],a.stroke="#FEFEFE",a.bottomCardPadding=.4*a.dims.h,K={out:[.1,.1],"in":[1,1]},W=!1,a.scaler=new r(K.out),a.contentScaler=new r([1,1]),a.scrollEventHandler=new j,a.imageFader=new r(0),a.colorMap={},a.circles=[],a.opts={size:[500,500]},N=new m,a.colorMap={},a.layers={center:1001,corner:1002},a.springLengths={big:200,small:30},R=.3,a.scrollview=new o,x=new l({position:[a.dims.w/2,a.dims.h/2]}),a.cornerPosition=[a.dims.w-50,50],C=new l({position:a.cornerPosition}),L=T+y.big+30,a.projectName=new l({position:[a.dims.w/2,L]}),N.addBody(a.projectName),I=function(){var b,c,d,f,g,h,i,j,k;for(c=h=0;M>=0?M>h:h>M;c=M>=0?++h:--h)b=new e({radius:y.big/2,position:[a.dims.w/2+1e-7*Math.random(),a.dims.h/2+1e-7*Math.random()]}),b._id=Math.random(),b.iconScaler=new r(1),b.iconFader=new r(1),N.addBody(b),a.colorMap[b._id]=_.sample(A),a.circles.push(b);for(k=a.circles,d=i=0,j=k.length;j>i;d=++i)b=k[d],b.spring=new q({anchor:x,period:300,dampingRatio:.3}),N.attach(b.spring,b),N.attach(z,a.circles,b),g=d-1,0>g&&(g=a.circles.length-1),f=d+1,f===a.circles.length&&(f=0);return Q(),J(),console.log("reset called"),a.reset()},J=function(){var b;return b=[new t({normal:[1,0,0],distance:0,restitution:.1}),new t({normal:[-1,0,0],distance:a.dims.w,restitution:.1}),new t({normal:[0,1,0],distance:0,restitution:.1}),new t({normal:[0,-1,0],distance:a.dims.h,restitution:.1})],N.attach(b,a.circles)},G=new s([100,0,0]),F=new k(G),P=new r(0),O=new n,O=new q({length:a.springLengths.big,period:700,dampingRatio:.3}),a.spinner=new r(0),a.padder=[!0,300],c(function(){return a.padder=[!0,0]},2e3),S=function(b){var d,e,f,g;return null==b&&(b=!1),console.log("it is now "+Date.now()/1e3),g=3e3,d=300,b?(f=g-Date.now()/1e3%(g/1e3)*1e3,console.log("it is now "+Date.now()/1e3+" - sleeping "+f+" until "+(Date.now()/1e3+f/1e3)),c(S,f)):(e=Date.now()/1e5%1*3.14,e=3.14*Math.random(),console.log("spinning to "+e),a.spinner.set(e,{duration:d,curve:"easeInOut"},function(){var a;return a=1e4*Math.random(),a=g-d,c(S,a)}))},z=new f({restitution:.3}),Q=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(null==b&&(b=!1),console.groupCollapsed("%csetting springs","color: green;"),b&&console.info("<excluding "+b+">"),r=a.circles,j=0,n=r.length;n>j;j++){if(c=r[j],c.neighborSprings){for(console.info("detaching "+c.neighborSprings),s=c.neighborSprings,k=0,o=s.length;o>k;k++)i=s[k],N.detach(i);c.neighborSprings=[]}c.neighborSprings||(c.neighborSprings=[])}for(h=function(){var c,e,g,h;if(f!==b){for(g=a.circles,h=[],f=c=0,e=g.length;e>c;f=++c)d=g[f],h.push(d);return h}}(),t=a.circles,e=l=0,p=t.length;p>l;e=++l)for(c=t[e],u=a.circles,g=m=0,q=u.length;q>m;g=++m)c=u[g],g>e&&(e!==b&&g!==b?(console.info(""+e+" <---> "+g),a.circles[e].neighborSprings.push(N.attach(O,a.circles[e],a.circles[g]))):console.info("skipping because either "+e+" or "+g+" is "+b));return console.groupEnd()},V=function(b){return b>=a.circles.length?b-a.circles.length:b},D=function(){var b,c,d,e;for(P.set(5,{duration:200,curve:"easeInOut"},function(){return console.log("done expanding")}),e=a.circles,c=0,d=e.length;d>c;c++)b=e[c],b.spring.setOptions({length:60});return E=!0},B=function(){var b,c,d,e;for(O.setOptions({strength:0}),e=a.circles,c=0,d=e.length;d>c;c++)b=e[c],b.spring.setOptions({length:.01});return E=!1},w=function(){return console.log("bump"),P.set(100,{duration:100},function(){return P.set(5,{duration:100})})},a.circleClicked=function(b,c){var d,e,f,g;if(a.project=a.projects[c],a.selected)return a.reset();for(a.selected=!0,g=a.circles,e=0,f=g.length;f>e;e++)d=g[e],d!==b?(d.spring.setOptions({anchor:C,length:a.springLengths.small*R,dampingRatio:.5}),d.setRadius(y.small/2),d.iconScaler.set(.3,{duration:200}),d.iconFader.set(0,{duration:200})):(d.spring.setOptions({anchor:[a.dims.w/2,T],dampingRatio:.5,length:0}),d.setRadius(y.big/2));return console.log("circle "+c+" clicked!"),O.setOptions({length:a.springLengths.small}),Q(c)},a.reset=function(){var b,c,d,e;for(a.selected=!1,e=a.circles,c=0,d=e.length;d>c;c++)b=e[c],b.spring.setOptions({anchor:x,length:a.springLengths.big*R,dampingRatio:.3}),b.setRadius(y.big/2),b.iconScaler.delay(50),b.iconScaler.set(1,{duration:200}),b.iconFader.set(1,{duration:100});return O.setOptions({length:a.springLengths.big}),Q()},a.zoomIn=function(){return a.contentScaler.set([10,10],{duration:300,curve:"easeInOut"}),a.imageFader.set(1,{duration:300,curve:"easeInOut"}),a.scaler.set(K["in"],{duration:300,curve:"easeInOut"},function(){}),W=!0},a.zoomOut=function(){return a.contentScaler.set([1,1],{duration:300,curve:"easeInOut"}),a.imageFader.set(0,{duration:300,curve:"easeInOut"}),a.scaler.set(K.out,{duration:300,curve:"easeInOut"}),W=!1},a.cardTranslation=new r([0,a.bottomCardPadding]),a.cardMoving=!1,a.animateCardEnter=function(b){return a.cardTranslation.set([0,0],{method:"snap",dampingRatio:.2,period:300},function(){return b(),a.$apply(function(){return a.showVideo=!0,console.log("set to true")})})},a.animateCardLeave=function(b){return a.cardTranslation.set([0,a.bottomCardPadding],{method:"snap",dampingRatio:.5,period:200},function(){return b(),a.$apply(function(){return a.showVideo=!1,console.log("set to false")})})},a.animateCardHalt=function(){return console.log("halt called!"),a.cardTranslation.halt()},a.scrollOptions={position:200},c(function(){return a.scrollView=b.find(".outerScrollView")[0].renderNode,console.log(a.scrollView)},0),a.alert=function(a){return alert(a)},a.nameOpacity=new r(0),a.nameAnimation={enter:function(b){return a.nameOpacity.delay(200),a.nameOpacity.set(1,{duration:300},b)},leave:function(b){return a.nameOpacity.set(0,{duration:50},b)},halt:function(){return a.nameOpacity.halt()}},c(function(){var a,c;return a=b.find(".backgroundImageSurface")[0],console.log(a),(null!=a&&null!=(c=a.renderNode)?c._element:void 0)?(console.log("already deployed"),a.renderNode._element.complete?(console.log("complete=true"),v()):a.renderNode._element.onload=function(){return console.log("onload fired"),v()}):(console.log("waiting for deploy..."),a.renderNode.on("deploy",function(){return console.log("deploy happened"),v()}))}),v=function(){return console.log("let us begin"),I(),a.imageFader.set(1,{duration:500,curve:"easeInOut"},function(){return console.log("init happening")})}}])}.call(this);