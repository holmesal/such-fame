(function(){"use strict";angular.module("portfolioApp",["ngCookies","ngResource","ngSanitize","ngRoute","famous.angular"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}])}).call(this),function(){"use strict";angular.module("portfolioApp").controller("MainCtrl",["$scope","$famous","$timeout","$interval","$window",function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X;return k=b["famous/core/EventHandler"],j=b["famous/core/Engine"],n=b["famous/physics/PhysicsEngine"],f=b["famous/physics/bodies/Circle"],m=b["famous/physics/bodies/Particle"],s=b["famous/transitions/Transitionable"],u=b["famous/physics/constraints/Wall"],v=b["famous/physics/constraints/Walls"],g=b["famous/physics/constraints/Collision"],o=b["famous/physics/forces/Repulsion"],r=b["famous/physics/forces/Spring"],l=b["famous/physics/forces/Force"],i=b["famous/physics/constraints/Distance"],t=b["famous/math/Vector"],p=b["famous/views/Scrollview"],q=b["famous/transitions/SnapTransition"],s.registerMethod("snap",q),a.projects=[{name:"Hashtag",icon:"images/icons/hashtag.svg",description:"Awesome group chat for all of the thingsss",template:"views/projects/hashtag.html",size:[26,!0]},{name:"Hero",icon:"images/icons/hero.svg",description:"Humanitarian emergency response UAV",template:"views/projects/hero.html",size:[30,!0]},{name:"Shortwave",icon:"images/icons/shortwave.svg",description:"A chat room with a 100-foot range",template:"views/projects/shortwave.html",size:[30,!0]},{name:"hey i'm alonso",icon:"images/icons/alonso.svg",description:"",template:"views/projects/alonso.html",size:[36,!0]}],N=a.projects.length,z={big:70,small:5},a.circleSize=z.big,a.dims={w:e.innerWidth,h:e.innerHeight},U=.2*a.dims.h,V=.5,I=.5,h=200,F=!0,B=["#b58900","#cb4b16","#dc322f","#d33682","#6c71c4","#268bd2","#2aa198","#859900"],B=["#575757"],a.stroke="#FEFEFE",a.bottomCardPadding=.4*a.dims.h,L={out:[.1,.1],"in":[1,1]},X=!1,a.scaler=new s(L.out),a.contentScaler=new s([1,1]),a.scrollEventHandler=new k,a.imageFader=new s(0),a.colorMap={},a.circles=[],a.opts={size:[500,500]},O=new n,a.colorMap={},a.layers={center:1001,corner:1002},a.springLengths={big:200,small:30},S=.3,a.scrollview=new p,y=new m({position:[a.dims.w/2,a.dims.h/2]}),a.cornerPosition=[a.dims.w-50,50],D=new m({position:a.cornerPosition}),M=U+z.big+30,a.projectName=new m({position:[a.dims.w/2,M]}),O.addBody(a.projectName),J=function(){var b,c,d,e,g,h,i,j,k,l,m,n;for(j=Math.random()*Math.PI,console.log("rotate is "+j),d=k=0;N>=0?N>k:k>N;d=N>=0?++k:--k)b=2*Math.PI*d/N+j,console.log("Deploying circle "+d+" at angle "+180*b/Math.PI),h={x:20*Math.cos(b),y:20*Math.sin(b)},c=new f({radius:z.big/2,position:[a.dims.w/2+h.x,a.dims.h/2+h.y]}),c._id=Math.random(),c.iconScaler=new s(.7),c.iconFader=new s(0),c.fader=new s(1),O.addBody(c),a.colorMap[c._id]=_.sample(B),a.circles.push(c);for(n=a.circles,e=l=0,m=n.length;m>l;e=++l)c=n[e],c.spring=new r({anchor:y,period:300,dampingRatio:.3}),O.attach(c.spring,c),O.attach(A,a.circles,c),i=e-1,0>i&&(i=a.circles.length-1),g=e+1,g===a.circles.length&&(g=0);return R(),K(),console.log("reset called"),a.reset(!0)},K=function(){var b;return b=[new u({normal:[1,0,0],distance:0,restitution:.1}),new u({normal:[-1,0,0],distance:a.dims.w,restitution:.1}),new u({normal:[0,1,0],distance:0,restitution:.1}),new u({normal:[0,-1,0],distance:a.dims.h,restitution:.1})],O.attach(b,a.circles)},H=new t([100,0,0]),G=new l(H),Q=new s(0),P=new o,P=new r({length:a.springLengths.big,period:700,dampingRatio:.3}),a.spinner=new s(0),a.padder=[!0,300],c(function(){return a.padder=[!0,0]},2e3),T=function(b){var d,e,f,g;return null==b&&(b=!1),console.log("it is now "+Date.now()/1e3),g=3e3,d=300,b?(f=g-Date.now()/1e3%(g/1e3)*1e3,console.log("it is now "+Date.now()/1e3+" - sleeping "+f+" until "+(Date.now()/1e3+f/1e3)),c(T,f)):(e=Date.now()/1e5%1*3.14,e=3.14*Math.random(),console.log("spinning to "+e),a.spinner.set(e,{duration:d,curve:"easeInOut"},function(){var a;return a=1e4*Math.random(),a=g-d,c(T,a)}))},A=new g({restitution:.3}),R=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(null==b&&(b=!1),console.groupCollapsed("%csetting springs","color: green;"),b&&console.info("<excluding "+b+">"),r=a.circles,j=0,n=r.length;n>j;j++){if(c=r[j],c.neighborSprings){for(console.info("detaching "+c.neighborSprings),s=c.neighborSprings,k=0,o=s.length;o>k;k++)i=s[k],O.detach(i);c.neighborSprings=[]}c.neighborSprings||(c.neighborSprings=[])}for(h=function(){var c,e,g,h;if(f!==b){for(g=a.circles,h=[],f=c=0,e=g.length;e>c;f=++c)d=g[f],h.push(d);return h}}(),t=a.circles,e=l=0,p=t.length;p>l;e=++l)for(c=t[e],u=a.circles,g=m=0,q=u.length;q>m;g=++m)c=u[g],g>e&&(e!==b&&g!==b?(console.info(""+e+" <---> "+g),a.circles[e].neighborSprings.push(O.attach(P,a.circles[e],a.circles[g]))):console.info("skipping because either "+e+" or "+g+" is "+b));return console.groupEnd()},W=function(b){return b>=a.circles.length?b-a.circles.length:b},E=function(){var b,c,d,e;for(Q.set(5,{duration:200,curve:"easeInOut"},function(){return console.log("done expanding")}),e=a.circles,c=0,d=e.length;d>c;c++)b=e[c],b.spring.setOptions({length:60});return F=!0},C=function(){var b,c,d,e;for(P.setOptions({strength:0}),e=a.circles,c=0,d=e.length;d>c;c++)b=e[c],b.spring.setOptions({length:.01});return F=!1},x=function(){return console.log("bump"),Q.set(100,{duration:100},function(){return Q.set(5,{duration:100})})},a.circleClicked=function(b,c){var d,e,f,g,h;if(a.project=a.projects[c],b.visited=!0,a.selected)return a.reset();for(a.selected=!0,h=a.circles,e=f=0,g=h.length;g>f;e=++f)d=h[e],d!==b?(d.spring.setOptions({anchor:D,length:a.springLengths.small*S,dampingRatio:.5}),d.setRadius(z.small/2),d.iconScaler.set(.3,{duration:50}),d.iconFader.set(0,{duration:50})):(console.log("circle to remain"),d.spring.setOptions({anchor:[a.dims.w/2,U],dampingRatio:.5,length:0}),d.setRadius(z.big/2),d.fader.set(1,{duration:200}));return console.log("circle "+c+" clicked!"),P.setOptions({length:a.springLengths.small}),R(c)},a.reset=function(b){var d,e,f,g,h,i,j,k;for(null==b&&(b=!1),a.selected=!1,i=a.circles,e=0,g=i.length;g>e;e++)d=i[e],d.spring.setOptions({anchor:y,length:a.springLengths.big*S*1,dampingRatio:.3}),d.setRadius(z.big/2),b?(d.iconScaler.delay(2500),d.iconFader.delay(2500)):d.iconScaler.delay(50),d.iconScaler.set(1,{method:"snap",dampingRatio:.3,period:300}),d.iconFader.set(1,{duration:100,curve:"easeInOut"}),d.visited&&d.fader.set(.3,{duration:200});if(P.setOptions({length:a.springLengths.big}),R(),function(){var b,c,e,f;for(e=a.circles,f=[],b=0,c=e.length;c>b;b++)d=e[b],d.visited&&f.push(d.visited);return f}().length===a.circles.length){for(console.log("resetting all!"),j=a.circles,k=[],f=0,h=j.length;h>f;f++)d=j[f],d.visited=!1,k.push(function(a){return c(function(){return a.applyForce(new t([.05*Math.random()-.025,-.1,0])),a.fader.set(1,{curve:"easeInOut",duration:300})},2e3)}(d));return k}},a.zoomIn=function(){return a.contentScaler.set([10,10],{duration:300,curve:"easeInOut"}),a.imageFader.set(1,{duration:300,curve:"easeInOut"}),a.scaler.set(L["in"],{duration:300,curve:"easeInOut"},function(){}),X=!0},a.zoomOut=function(){return a.contentScaler.set([1,1],{duration:300,curve:"easeInOut"}),a.imageFader.set(0,{duration:300,curve:"easeInOut"}),a.scaler.set(L.out,{duration:300,curve:"easeInOut"}),X=!1},a.bumpCircle=function(){return console.log("bump!")},a.cardTranslation=new s([0,a.bottomCardPadding]),a.cardMoving=!1,a.animateCardEnter=function(b){return a.cardTranslation.set([0,0],{method:"snap",dampingRatio:.2,period:300},function(){return b(),a.$apply(function(){return a.showVideo=!0,console.log("set to true")})})},a.animateCardLeave=function(b){return a.cardTranslation.set([0,a.bottomCardPadding],{method:"snap",dampingRatio:.5,period:200},function(){return b(),a.$apply(function(){return a.showVideo=!1,console.log("set to false")})})},a.animateCardHalt=function(){return console.log("halt called!"),a.cardTranslation.halt()},a.scrollOptions={position:200},c(function(){return a.scrollView=b.find(".outerScrollView")[0].renderNode,console.log(a.scrollView)},0),a.alert=function(a){return alert(a)},a.nameOpacity=new s(0),a.nameAnimation={enter:function(b){return a.nameOpacity.delay(200),a.nameOpacity.set(1,{duration:300},b)},leave:function(b){return a.nameOpacity.set(0,{duration:50},b)},halt:function(){return a.nameOpacity.halt()}},c(function(){var a,c;return a=b.find(".backgroundImageSurface")[0],console.log(a),(null!=a&&null!=(c=a.renderNode)?c._element:void 0)?(console.log("already deployed"),a.renderNode._element.complete?(console.log("complete=true"),w()):a.renderNode._element.onload=function(){return console.log("onload fired"),w()}):(console.log("waiting for deploy..."),a.renderNode.on("deploy",function(){return console.log("deploy happened"),w()}))}),w=function(){return console.log("let us begin"),J(),a.imageFader.set(1,{duration:500,curve:"easeInOut"},function(){return console.log("init happening")})},d(function(){var b;return b=_.sample(a.circles)},2e3)}])}.call(this);