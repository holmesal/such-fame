(function(){"use strict";angular.module("portfolioApp",["ngCookies","ngResource","ngSanitize","ngRoute","famous.angular"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}])}).call(this),function(){"use strict";angular.module("portfolioApp").controller("MainCtrl",["$scope","$famous","$timeout","$interval","$window",function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X;return k=b["famous/core/EventHandler"],j=b["famous/core/Engine"],n=b["famous/physics/PhysicsEngine"],f=b["famous/physics/bodies/Circle"],m=b["famous/physics/bodies/Particle"],t=b["famous/transitions/Transitionable"],v=b["famous/physics/constraints/Wall"],w=b["famous/physics/constraints/Walls"],g=b["famous/physics/constraints/Collision"],o=b["famous/physics/forces/Repulsion"],s=b["famous/physics/forces/Spring"],p=b["famous/physics/forces/RotationalSpring"],l=b["famous/physics/forces/Force"],i=b["famous/physics/constraints/Distance"],u=b["famous/math/Vector"],q=b["famous/views/Scrollview"],r=b["famous/transitions/SnapTransition"],t.registerMethod("snap",r),a.projects=[{name:"Hashtag",icon:"images/icons/hashtag.svg",description:"Awesome group chat for all of the things",template:"views/projects/hashtag.html",size:[26,!0]},{name:"H.E.R.O.",icon:"images/icons/hero.svg",description:"Rugged humanitarian UAV",template:"views/projects/hero.html",size:[30,!0]},{name:"Shortwave",icon:"images/icons/shortwave.svg",description:"A chat room with a 100-foot range",template:"views/projects/shortwave.html",size:[30,!0]},{name:"hey i'm alonso",icon:"images/icons/alonso.svg",description:"",template:"views/projects/alonso.html",size:[36,!0]}],O=a.projects.length,A={big:70,small:5},a.circleSize=A.big,a.dims={w:e.innerWidth,h:e.innerHeight},U=.2*a.dims.h,V=.5,J=.5,h=200,G=!0,C=["#b58900","#cb4b16","#dc322f","#d33682","#6c71c4","#268bd2","#2aa198","#859900"],C=["#575757"],a.stroke="#FEFEFE",a.bottomCardPadding=.4*a.dims.h,M={out:[.1,.1],"in":[1,1]},X=!1,a.scaler=new t(M.out),a.contentScaler=new t([1,1]),a.scrollEventHandler=new k,a.imageFader=new t(0),a.colorMap={},a.circles=[],a.opts={size:[500,500]},P=new n,a.colorMap={},a.layers={center:1001,corner:1002},a.springLengths={big:200,small:30},T=.3,a.scrollview=new q,z=new m({position:[a.dims.w/2,a.dims.h/2]}),a.cornerPosition=[a.dims.w-50,50],E=new m({position:a.cornerPosition}),N=U+A.big+30,a.projectName=new m({position:[a.dims.w/2,N]}),P.addBody(a.projectName),K=function(){var b,c,d,e,g,h,i,j,k,l,m,n;for(j=Math.random()*Math.PI,console.log("rotate is "+j),d=k=0;O>=0?O>k:k>O;d=O>=0?++k:--k)b=2*Math.PI*d/O+j,console.log("Deploying circle "+d+" at angle "+180*b/Math.PI),h={x:20*Math.cos(b),y:20*Math.sin(b)},c=new f({radius:A.big/2,position:[a.dims.w/2+h.x,a.dims.h/2+h.y]}),c._id=Math.random(),c.iconScaler=new t(.7),c.iconFader=new t(0),c.fader=new t(1),P.addBody(c),a.colorMap[c._id]=_.sample(C),a.circles.push(c);for(n=a.circles,e=l=0,m=n.length;m>l;e=++l)c=n[e],c.spring=new s({anchor:z,period:300,dampingRatio:.3}),P.attach(c.spring,c),P.attach(B,a.circles,c),i=e-1,0>i&&(i=a.circles.length-1),g=e+1,g===a.circles.length&&(g=0);return S(),L(),console.log("reset called"),a.reset(!0)},L=function(){var b;return b=[new v({normal:[1,0,0],distance:0,restitution:.1}),new v({normal:[-1,0,0],distance:a.dims.w,restitution:.1}),new v({normal:[0,1,0],distance:0,restitution:.1}),new v({normal:[0,-1,0],distance:a.dims.h,restitution:.1})],P.attach(b,a.circles)},I=new u([100,0,0]),H=new l(I),R=new t(0),Q=new o,Q=new s({length:a.springLengths.big,period:700,dampingRatio:.3}),a.spinner=new t(0),a.padder=[!0,300],c(function(){return a.padder=[!0,0]},2e3),B=new g({restitution:.3}),S=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(null==b&&(b=!1),console.groupCollapsed("%csetting springs","color: green;"),b&&console.info("<excluding "+b+">"),r=a.circles,j=0,n=r.length;n>j;j++){if(c=r[j],c.neighborSprings){for(console.info("detaching "+c.neighborSprings),s=c.neighborSprings,k=0,o=s.length;o>k;k++)i=s[k],P.detach(i);c.neighborSprings=[]}c.neighborSprings||(c.neighborSprings=[])}for(h=function(){var c,e,g,h;if(f!==b){for(g=a.circles,h=[],f=c=0,e=g.length;e>c;f=++c)d=g[f],h.push(d);return h}}(),t=a.circles,e=l=0,p=t.length;p>l;e=++l)for(c=t[e],u=a.circles,g=m=0,q=u.length;q>m;g=++m)c=u[g],g>e&&(e!==b&&g!==b?(console.info(""+e+" <---> "+g),a.circles[e].neighborSprings.push(P.attach(Q,a.circles[e],a.circles[g]))):console.info("skipping because either "+e+" or "+g+" is "+b));return console.groupEnd()},W=function(b){return b>=a.circles.length?b-a.circles.length:b},F=function(){var b,c,d,e;for(R.set(5,{duration:200,curve:"easeInOut"},function(){return console.log("done expanding")}),e=a.circles,c=0,d=e.length;d>c;c++)b=e[c],b.spring.setOptions({length:60});return G=!0},D=function(){var b,c,d,e;for(Q.setOptions({strength:0}),e=a.circles,c=0,d=e.length;d>c;c++)b=e[c],b.spring.setOptions({length:.01});return G=!1},y=function(){return console.log("bump"),R.set(100,{duration:100},function(){return R.set(5,{duration:100})})},a.circleClicked=function(b,c){var d,e,f,g,h;if(a.project=a.projects[c],b.visited=!0,a.selected)return a.reset();for(a.selected=!0,h=a.circles,e=f=0,g=h.length;g>f;e=++f)d=h[e],d!==b?(d.spring.setOptions({anchor:E,length:a.springLengths.small*T,dampingRatio:.5}),d.setRadius(A.small/2),d.iconScaler.set(.3,{duration:50}),d.iconFader.set(0,{duration:50})):(console.log("circle to remain"),d.spring.setOptions({anchor:[a.dims.w/2,U],dampingRatio:.5,length:0}),d.setRadius(A.big/2),d.fader.set(1,{duration:200}));return console.log("circle "+c+" clicked!"),Q.setOptions({length:a.springLengths.small}),S(c)},a.reset=function(b){var d,e,f,g,h,i,j,k,l;for(null==b&&(b=!1),a.selected=!1,j=a.circles,f=0,h=j.length;h>f;f++)d=j[f],d.spring.setOptions({anchor:z,length:a.springLengths.big*T*1,dampingRatio:.3}),d.setRadius(A.big/2),b?(d.iconScaler.delay(2500),d.iconFader.delay(2500),e=.3):(d.iconScaler.delay(50),e=1),d.iconScaler.set(1,{method:"snap",dampingRatio:e,period:300}),d.iconFader.set(1,{duration:100,curve:"easeInOut"}),d.visited&&d.fader.set(.3,{duration:200});if(Q.setOptions({length:a.springLengths.big}),S(),function(){var b,c,e,f;for(e=a.circles,f=[],b=0,c=e.length;c>b;b++)d=e[b],d.visited&&f.push(d.visited);return f}().length===a.circles.length){for(console.log("resetting all!"),k=a.circles,l=[],g=0,i=k.length;i>g;g++)d=k[g],d.visited=!1,l.push(function(a){return c(function(){return a.applyForce(new u([.05*Math.random()-.025,-.1,0])),a.fader.set(1,{curve:"easeInOut",duration:300})},2e3)}(d));return l}},a.zoomIn=function(){return a.contentScaler.set([10,10],{duration:300,curve:"easeInOut"}),a.imageFader.set(1,{duration:300,curve:"easeInOut"}),a.scaler.set(M["in"],{duration:300,curve:"easeInOut"},function(){}),X=!0},a.zoomOut=function(){return a.contentScaler.set([1,1],{duration:300,curve:"easeInOut"}),a.imageFader.set(0,{duration:300,curve:"easeInOut"}),a.scaler.set(M.out,{duration:300,curve:"easeInOut"}),X=!1},a.bumpCircle=function(){return console.log("bump!")},a.cardTranslation=new t([0,a.bottomCardPadding]),a.cardMoving=!1,a.animateCardEnter=function(b){return a.cardTranslation.set([0,0],{method:"snap",dampingRatio:.2,period:300},function(){return b(),a.$apply(function(){return a.showVideo=!0,console.log("set to true")})})},a.animateCardLeave=function(b){return a.cardTranslation.set([0,a.bottomCardPadding],{method:"snap",dampingRatio:.5,period:200},function(){return b(),a.$apply(function(){return a.showVideo=!1,console.log("set to false")})})},a.animateCardHalt=function(){return console.log("halt called!"),a.cardTranslation.halt()},a.scrollOptions={position:200},c(function(){return a.scrollView=b.find(".outerScrollView")[0].renderNode,console.log(a.scrollView)},0),a.alert=function(a){return alert(a)},a.nameOpacity=new t(0),a.nameAnimation={enter:function(b){return a.nameOpacity.delay(200),a.nameOpacity.set(1,{duration:300},b)},leave:function(b){return a.nameOpacity.set(0,{duration:50},b)},halt:function(){return a.nameOpacity.halt()}},c(function(){var a,c;return a=b.find(".backgroundImageSurface")[0],console.log(a),(null!=a&&null!=(c=a.renderNode)?c._element:void 0)?(console.log("already deployed"),a.renderNode._element.complete?(console.log("complete=true"),x()):a.renderNode._element.onload=function(){return console.log("onload fired"),x()}):(console.log("waiting for deploy..."),a.renderNode.on("deploy",function(){return console.log("deploy happened"),x()}))}),x=function(){return console.log("let us begin"),K(),a.imageFader.set(1,{duration:500,curve:"easeInOut"},function(){return console.log("init happening")})},c(function(){var b;return console.log("IMGIMG"),b=_.sample(a.circles)},4e3)}])}.call(this);